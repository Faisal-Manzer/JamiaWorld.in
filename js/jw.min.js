"use strict";window.$=document.querySelector.bind(document),window.$$=document.querySelectorAll.bind(document),Element.prototype.$=Element.prototype.querySelector,Element.prototype.$$=Element.prototype.querySelectorAll,Element.prototype.add=function(e){void 0===e&&(e="");var a=e.split(" ");if(""!==e)for(var t=0;t<a.length;t++)-1===a[t].search(/--/)?this.classList.add(a[t]):this.classList.remove(a[t].slice(2))},Element.prototype.append=function(e){this.appendChild(e)},String.prototype.load=function(e,a){var t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");t.open("POST",this,!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send(e),t.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(t.responseText);a(e)}}},window.addEventListener("popstate",function(e){app.loadData()});var root="http://"+location.host,app={isLoading:!0,theme:"jw-theme",contrast:"jw-inverted",cardCount:0,carouselCount:0,paraCount:0,collectionCount:0,tabCount:0,collapsibleCount:0,tableCount:0,main:$("main .page-role"),page:".page-role",search:{},sideNav:{obj:$("#menu"),option:{edge:"right"},ini:null},fab:{obj:$("#fab"),option:{},ini:null},askLogin:{html:$(".components #askLogin").cloneNode(!0),displayLength:3e3},gsin:null,user:{isSigned:!1,name:"LogIn",email:"To get our free services",dp:root+"/images/user.png"},userD:{isSigned:!1,name:"LogIn",email:"To get our free services",dp:root+"/images/user.png"}};function select(e,a){return a.querySelector(e)}function create(e,a){var t;return void 0===a&&(a="."),"."!==a?t=document.createElement(e):(t=document.createElement("div"),a=e),t.add(a),t}function append(e,a){e.appendChild(a)}function add(e,a){void 0===a&&(a="");var t=a.split(" ");if(""!==a)for(var n=0;n<t.length;n++)e.classList.add(t[n])}function check(e,a,t){typeof a!=typeof!0&&void 0!==e&&(a(),t=function(){},a=!1),(void 0!==e&&a||void 0==e&&!a&&typeof a==typeof!0)&&t()}function def(e,a,t){var n=e;return check(t,function(){n=t+""+n}),check(a,function(){n=a}),n}app.init=function(){app.sideNav.ini=M.Sidenav.init(app.sideNav.obj,app.sideNav.option),app.fab.ini=M.FloatingActionButton.init(app.fab.obj,app.fab.option),app.prevent(document)},app.prevent=function(e){for(var a=e.getElementsByTagName("a"),t=(location.href,0);t<a.length;t++)a[t].addEventListener("click",function(e){var a=this.href.search(/(#!)|(#)|(undefined)|((tel:).+|(mailto:).+|(intent:).+)/),t=this.href.search(/(http:\/\/)((www\.jamiaworld\.in)|(localhost:8888)).+/);-1==a&&""!==this.href&&-1!=t&&(e.preventDefault(),console.log("Prevented"),app.sideNav.ini.close(),app.navigate(this.href))})},app.add=function(e){for(var a=0;a<e.length;a++)check(e.parent,function(){check(e[a].parent,!1,function(){e[a].parent=e.parent})}),app.add(e[a]);switch(e.type){case"card":app.createCard(e);break;case"carousel":app.createCarousel(e);break;case"para":app.createPara(e);break;case"collection":app.createCollection(e);break;case"tabs":app.createTabs(e);break;case"collapsible":app.createCollapsible(e);break;case"table":app.createTable(e)}},app.createCard=function(e){var a,t="jw-basic";check(e.theme,function(){t=e.theme}),check(e.contrast,function(){e.contrast});var n=create("card "+t);n.id=def(app.cardCount,e.id,"card-"),check(e.eclass,function(){n.add(e.eclass)}),app.cardCount++,check(e.img,function(){var a=create("card-image"),t=create("img","");t.src=root+"/images/"+e.img;var c=create("span","card-title jw-basic-opacity jw-w");c.innerHTML=e.title,a.append(t),a.append(c),check(e.icon,function(){var t=create("a","btn-floating halfway-fab"+e.contrast);act.href=e.iconAct;var n=create("i",e.icon);t.append(n),a.append(t)}),n.append(a)});var c=create("card-content");check(e.img,!1,function(){var a=create("card-title");a.innerHTML=e.title,c.append(a)});var i=create("p","");a=n.id+"-para",i.id=a,i.innerHTML=e.cont,c.append(i),n.append(c),check(e.act,function(){for(var a=create("card-action"),t=0;t<e.act.length;t++){var c=create("a","");c.href=e.act[t].link,c.innerHTML=e.act[t].name,a.append(c)}n.append(a)}),$(def("",e.parent,app.page+" ")).append(n),check(e.saru,function(){e.saru.parent="#"+a,app.add(e.saru)})},app.createCarousel=function(e){var a=create("carousel"),t=def(app.carouselCount,e.id,"carousel-"),n=[];a.id=t,app.carouselCount++,check(e.eclass,function(){a.add(e.eclass)}),check(e.fixed,function(){var t=create("carousel-fixed-item center");t.innerHTML=e.fixed,a.append(t)}),check(e.items,function(){for(var t=0;t<e.items.length;t++){var c=create("carousel-item");c.add(e.items[t].eclass);var i=a.id+"-item-"+t;c.id=i,c.innerHTML=e.items[t].cont,a.append(c),check(e.items[t].saru,function(){e.items[t].saru.parent="#"+i,n[t]=e.items[t].saru})}}),$(def("",e.parent,app.page+" ")).append(a);for(var c=$("#"+t),i=(M.Carousel.init(c,e.option),0);i<n.length;i++)app.add(n[i])},app.createPara=function(e){var a=create("p","");check(e.eclass,function(){a.add(e.eclass)}),a.id=def(app.paraCount,e.id,"para-"),app.paraCount++;var t=create("span","");"string"==typeof e.title&&(t.innerHTML="<b>"+e.title+"</b>"),check(e.title.cont,function(){t.innerHTML=e.title.cont}),check(e.title.eclass,function(){t.add(e.eclass)});var n=create("span",""),c=a.id+"-cont";n.id=c,n.innerHTML=e.cont,a.append(t),a.append(n),$(def("",e.parent,app.page+" ")).append(a),check(e.saru,function(){e.saru.parent="#"+c,app.add(e.saru)})},app.createCollection=function(e){var a=create("ul","collection"),t=[];a.id=def(app.collectionCount,e.id,"collection-");t=[];app.collection++,check(e.eclass,function(){a.add(e.eclass)}),check(e.items,function(){for(var n=e.items,c=0;c<n.length;c++){var i,p=n[c],o=create("li","collection-item");check(p.eclass,function(){o.add(p.eclass)}),check(p.img,function(){o.add("avatar");var e=create("img","circle");e.src=root+"/images/"+p.img,o.append(e)}),check(p.title,function(){var e=create("span","title");e.innerHTML=p.title,o.append(e)});var r=create("p","");i=a.id+"-cont-"+c,r.id=i,r.innerHTML=p.cont,o.append(r),check(p.icon,function(){var e=create("a","secondary-content material-icons");if(e.href="#!",check(p.icon.href,function(){e.href=p.icon.href}),check(p.icon.icon,function(){var a=create("i",p.icon.icon);e.append(a)}),"string"==typeof p.icon){var a=create("i",p.icon);e.append(a)}o.append(e)}),a.append(o),check(p.saru,function(){p.saru.parent="#"+i,t[c]=p.saru})}$(def("",e.parent,app.page+" ")).append(a);for(c=0;c<t.length;c++)app.add(t[c])})},app.createCollapsible=function(e){var a=create("ul","collapsible"),t=def(app.tabCount,e.id,"collapsible-");a.id=t;var n=[];check(e.eclass,function(){a.add(e.eclass)}),check(e.options.popout,function(){e.options.popout&&(a.classList.remove("collapsible"),a.add("collapsible popout"))});for(var c=0;c<e.items.length;c++){var i=create("li","");check(e.items[c].eclass,function(){i.add(e.items[c].eclass)});var p=create("collapsible-header");p.innerHTML=e.items[c].title;var o=create("collapsible-body"),r=t+"-cont-"+c;o.id=r,o.innerHTML=e.items[c].cont,n[c]="",check(e.items[c].saru,function(){e.items[c].saru.parent="#"+r,n[c]=e.items[c].saru}),i.append(p),i.append(o),a.append(i)}$(def("",e.parent,app.page+" ")).append(a);for(M.Collapsible.init($("#"+t),e.options),c=0;c<n.length;c++)app.add(n[c])},app.createTabs=function(e){var a=create("col s12"),t=create("ul","tabs"),n=[],c=def(app.tabCount,e.id,"tab-");t.id=c,check(e.eclass,function(){t.add(e.eclass)});for(var i=0;i<e.items.length;i++){var p=create("li","tab col s3"),o=create("a","");check(e.active,function(){e.active===i&&o.add("active")}),o.href="#"+c+"-cont-"+i,o.innerHTML=e.items[i].title,p.append(o),t.append(p)}a.append(t);for(i=0;i<e.items.length;i++){var r=create("col s12");r.id=c+"-cont-"+i,check(e.items[i].eclass,function(){r.add(e.items[i].eclass)}),r.innerHTML=e.items[i].cont,a.append(r),n[i]={},check(e.items[i].saru,function(){e.items[i].saru.parent="#"+r.id,n[i]=e.items[i].saru})}$(def("",e.parent,app.page+" ")).append(a);for(M.Tabs.init($("#"+c),check(e.options,function(){return e.option})),i=0;i<n.length;i++)app.add(n[i]);app.tabsCount++},app.createTable=function(e){var a=create("table",""),t=def(app.tableCount,e.id,"table-");a.id=t;check(e.eclass,function(){a.add(e.eclass)}),check(e.header,function(){for(var t=create("thead",""),n=(create("tr",""),0);n<e.header.length;n++){var c=create("th","");c.innerHTML=e.header[n],c.append(td)}t.append(c),a.append(t)}),check(e.items,function(){for(var t=create("tbody",""),n=0;n<e.items.length;n++){for(var c=create("tr",""),i=0;i<e.items[n].length;i++){var p=create("td","");p.innerHTML=e.items[n][i],c.append(p)}t.append(c)}a.append(t)}),$(def("",e.parent,app.page+" ")).append(a)},app.createScript=function(e){var a=create("script","");a.type="text/javascript",a.onload=function(){saru()},a.src=e.url},app.navigate=function(e){var a=location.href;history.pushState(a,"THETWO",e),app.loadData()},app.searchInit=function(){(root+"/data/courses_search.php").load("",function(e){var a=document.querySelector("#mainSearch");app.search=e.url;var t={data:e.data,onAutocomplete:function(){console.log(a.value);var e=a.value,t=app.search[e];app.navigate("http://"+location.host+t)}};M.Autocomplete.init(a,t)})},app.loadData=function(){var e=root+"/data/main.php";$(".page-role").innerHTML="",$(".nc").innerHTML="",e.load("path="+location.pathname,function(e){app.add(e),document.body.scrollTop=0,document.documentElement.scrollTop=0,$(".loader").add("hide"),app.prevent($(".page-role"))})},app.showUser=function(){$("#userName").innerText=app.user.name,$("#userEmail").innerText=app.user.email,$("#userDp").src=app.user.dp};var signInFaisal=function(){gapi.load("auth2",function(){app.gsin=gapi.auth2.init({client_id:"1079013601643-q00cqq19j3s4qhg01gi2eeiapmpo5cog.apps.googleusercontent.com"}),app.gsin.then(function(){if(app.user.isSigned=app.gsin.isSignedIn.get(),app.gsin.isSignedIn.get()){var e=app.gsin.currentUser.get().getBasicProfile();app.user.name=e.ig,app.user.email=e.U3,app.user.dp=e.Paa,app.showUser(),$("#signOut").add("--hide"),$("#loginGoogle").add("hide"),$("#signOut").addEventListener("click",function(){app.signOut()})}else setTimeout(function(){M.toast(app.askLogin)},3e3)},function(e){}),app.gsin.attachClickHandler(document.getElementById("loginGoogle"),{},function(e){var a=e.getBasicProfile();app.user.isSigned=!0,app.user.name=a.getName(),app.user.email=a.getEmail(),app.user.dp=a.getImageUrl(),app.showUser(),$("#signOut").add("--hide"),$("#loginGoogle").add("hide"),$("#signOut").addEventListener("click",function(){app.signOut()})},function(e){})})};app.signOut=function(){gapi.auth2.getAuthInstance().signOut().then(function(){app.user=app.userD,app.showUser(),M.toast({html:"Signed Out Successful"}),$("#signOut").add("hide"),$("#loginGoogle").add("--hide"),app.sideNav.ini.close()})},window.onload=function(){app.init(),app.searchInit(),app.loadData()};